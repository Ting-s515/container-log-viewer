# ğŸ³ Container Log Viewer

ä¸€å€‹è¼•é‡ç´šçš„ Web UI å·¥å…·ï¼Œç”¨æ–¼å³æ™‚æŸ¥çœ‹ Docker / Podman å®¹å™¨çš„ logã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- ğŸ³ **å¤šå®¹å™¨å·¥å…·æ”¯æ´** â€” è‡ªå‹•åµæ¸¬ä¸¦æ”¯æ´ Docker èˆ‡ Podman
- ğŸ“¡ **å³æ™‚ä¸²æµ** â€” é€é WebSocket å³æ™‚æ¨é€ logï¼Œç„¡éœ€æ‰‹å‹•åˆ·æ–°
- ğŸ” **é—œéµå­—éæ¿¾** â€” æ”¯æ´å³æ™‚éæ¿¾èˆ‡é—œéµå­—é«˜äº®é¡¯ç¤º
- ğŸŒ™ **æ·±è‰²ä¸»é¡Œ** â€” è­·çœ¼çš„æ·±è‰²ä»‹é¢ï¼Œé©åˆé•·æ™‚é–“ä½¿ç”¨
- ğŸ–¥ï¸ **è·¨å¹³å°** â€” åŸºæ–¼ Web æŠ€è¡“ï¼Œå¯åœ¨ä»»ä½•ä½œæ¥­ç³»çµ±ä¸Šä½¿ç”¨

## ğŸ› ï¸ æŠ€è¡“æ£§

| é¡åˆ¥ | æŠ€è¡“ | èªªæ˜ |
|:-----|:-----|:-----|
| **å‰ç«¯æ¡†æ¶** | React 18 + TypeScript | å…ƒä»¶åŒ–é–‹ç™¼ã€å‹åˆ¥å®‰å…¨ |
| **æ¨£å¼æ–¹æ¡ˆ** | Tailwind CSS 4 | Utility-first CSS æ¡†æ¶ |
| **å»ºæ§‹å·¥å…·** | Vite | æ¥µé€Ÿé–‹ç™¼é«”é©—èˆ‡ HMR |
| **å¾Œç«¯æ¡†æ¶** | Node.js + Express | éåŒæ­¥ I/O è™•ç†ä¸²æµ |
| **å³æ™‚é€šè¨Š** | WebSocket (ws) | é›™å‘é€šè¨Šæ¨é€ log |
| **å®¹å™¨äº’å‹•** | Docker / Podman CLI | é€é `child_process` èª¿ç”¨ |

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                    â”‚
â”‚  â€¢ å®¹å™¨é¸æ“‡ä¸‹æ‹‰é¸å–®                                      â”‚
â”‚  â€¢ é—œéµå­—éæ¿¾è¼¸å…¥æ¡†                                      â”‚
â”‚  â€¢ Log å³æ™‚é¡¯ç¤ºå€åŸŸï¼ˆæ”¯æ´é«˜äº®ï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ WebSocket / HTTP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Backend (Node.js)                     â”‚
â”‚  â€¢ Express HTTP API                                     â”‚
â”‚  â€¢ WebSocket Server                                     â”‚
â”‚  â€¢ child_process èª¿ç”¨ CLI                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ CLI Commands
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Docker / Podman                        â”‚
â”‚  â€¢ docker ps / podman ps                                â”‚
â”‚  â€¢ docker logs -f / podman logs -f                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- **Node.js** 18 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- **Docker** æˆ– **Podman**ï¼ˆè‡³å°‘å®‰è£å…¶ä¸€ï¼‰

### å®‰è£

```bash
# Clone å°ˆæ¡ˆ
git clone https://github.com/your-username/container-log-viewer.git
cd container-log-viewer

# å®‰è£ä¾è³´ï¼ˆæœƒè‡ªå‹•å®‰è£ client èˆ‡ server çš„ä¾è³´ï¼‰
npm install
```

### è¨­å®š Portï¼ˆå¯é¸ï¼‰

è‹¥é è¨­ port èˆ‡å…¶ä»–å°ˆæ¡ˆè¡çªï¼Œå¯å»ºç«‹ `.env` æª”æ¡ˆè‡ªè¨‚ï¼š

```bash
cp .env.example .env
```

ç·¨è¼¯ `.env`ï¼š

```bash
# å‰ç«¯é–‹ç™¼ä¼ºæœå™¨ port (Vite)
VITE_PORT=5173

# å¾Œç«¯é–‹ç™¼ä¼ºæœå™¨ port (Express)
SERVER_PORT=3001
```

### å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
# åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯
npm run dev
```

å•Ÿå‹•å¾Œé–‹å•Ÿç€è¦½å™¨è¨ªå•ï¼ˆport ä¾ `.env` è¨­å®šï¼‰ï¼š

| æœå‹™ | é è¨­ç¶²å€ |
|:-----|:-----|
| å‰ç«¯ UI | http://localhost:5173 |
| å¾Œç«¯ API | http://localhost:3001 |
| WebSocket | ws://localhost:3001/ws/logs |

### å¯ç”¨æŒ‡ä»¤

> æ‰€æœ‰æŒ‡ä»¤çš†åœ¨**å°ˆæ¡ˆæ ¹ç›®éŒ„**åŸ·è¡Œ

| æŒ‡ä»¤ | èªªæ˜ |
|:-----|:-----|
| `npm run dev` | åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯é–‹ç™¼ä¼ºæœå™¨ |
| `npm run dev:client` | åƒ…å•Ÿå‹•å‰ç«¯ |
| `npm run dev:server` | åƒ…å•Ÿå‹•å¾Œç«¯ |
| `npm run build` | å»ºæ§‹ç”Ÿç”¢ç‰ˆæœ¬ |
| `npm run start` | å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨ |

## ğŸ“– API æ–‡ä»¶

### HTTP API

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|:-----|:-----|:-----|
| `GET` | `/api/containers` | å–å¾—æ‰€æœ‰å®¹å™¨åˆ—è¡¨ |
| `GET` | `/api/containers/runtime` | å–å¾—åŸ·è¡Œç’°å¢ƒ (docker/podman) |
| `GET` | `/api/containers/:id/logs` | å–å¾—æŒ‡å®šå®¹å™¨çš„æ­·å² log |

#### æŸ¥è©¢åƒæ•¸ (æ­·å² log)

| åƒæ•¸ | é¡å‹ | èªªæ˜ | ç¯„ä¾‹ |
|:-----|:-----|:-----|:-----|
| `since` | string | èµ·å§‹æ™‚é–“ (ISO 8601) | `2024-01-01T00:00:00` |
| `until` | string | çµæŸæ™‚é–“ (ISO 8601) | `2024-01-02T00:00:00` |
| `filter` | string | é—œéµå­—éæ¿¾ | `error` |
| `tail` | number | æœ€å¾Œ N è¡Œ | `100` |

## ğŸ³ é‹ä½œåŸç†

æœ¬å·¥å…·é€é CLI æŒ‡ä»¤èˆ‡æœ¬æ©Ÿçš„ Docker/Podman Daemon äº’å‹•ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Container Log       â”‚     â”‚  Your Other          â”‚
â”‚  Viewer              â”‚     â”‚  Projects            â”‚
â”‚  (æœ¬å·¥å…·)            â”‚     â”‚  (å…¶ä»–å°ˆæ¡ˆ)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                            â”‚
           â”‚   docker ps / logs         â”‚   docker-compose up
           â”‚                            â”‚
           â–¼                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             Docker / Podman Daemon          â”‚
    â”‚                  (æœ¬æ©Ÿ)                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- âœ… **ç¨ç«‹é‹è¡Œ**ï¼šç›´æ¥ `npm run dev` å•Ÿå‹•å³å¯
- âœ… **æŸ¥çœ‹æ‰€æœ‰å®¹å™¨**ï¼šå¯æŸ¥çœ‹æœ¬æ©Ÿä¸Šä»»ä½•å®¹å™¨çš„ logï¼ˆä¸é™å°ˆæ¡ˆï¼‰
- âŒ **ä¸éœ€åˆä½µ**ï¼šä¸ç”¨èˆ‡å…¶ä»–å°ˆæ¡ˆçš„ `docker-compose.yml` æ”¾åœ¨ä¸€èµ·

## ğŸ“¦ éƒ¨ç½²

### æœ¬åœ°é–‹ç™¼

```bash
npm run dev
```

### Docker éƒ¨ç½²ï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰

#### 1. è¨­å®šç’°å¢ƒè®Šæ•¸

```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp .env.example .env

# ç·¨è¼¯ .envï¼Œè¨­å®šä¸è¡çªçš„ port
vim .env
```

`.env` å…§å®¹ï¼š

```bash
# Frontend port (web interface)
CLIENT_PORT=8080

# Backend port (API/WebSocket)
SERVER_PORT=3001
```

#### 2. å•Ÿå‹•æœå‹™

```bash
# å»ºç½®ä¸¦å•Ÿå‹•
docker-compose up -d --build

# ç¢ºèªç‹€æ…‹
docker-compose ps
```

#### 3. å­˜å–ç¶²é 

é–‹å•Ÿç€è¦½å™¨è¨ªå•ï¼š`http://ä½ çš„ä¼ºæœå™¨IP:8080`

#### æ›´æ› Port

ä¿®æ”¹ `.env` å¾Œé‡å•Ÿå³å¯ï¼š

```bash
docker-compose down
docker-compose up -d
```

> âš ï¸ **æ³¨æ„äº‹é …ï¼š**
> - éœ€æ›è¼‰ `/var/run/docker.sock` è®“å®¹å™¨å…§å¯å­˜å–ä¸»æ©Ÿ Docker Daemon
> - Podman ç”¨æˆ¶éœ€ç¢ºèª socket è·¯å¾‘ï¼ˆå¯èƒ½æ˜¯ `/run/podman/podman.sock`ï¼‰

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ License

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) æˆæ¬Šã€‚
